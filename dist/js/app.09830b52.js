(function(t){function e(e){for(var n,o,a=e[0],l=e[1],c=e[2],d=0,u=[];d<a.length;d++)o=a[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&u.push(r[o][0]),r[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);h&&h(e);while(u.length)u.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,a=1;a<i.length;a++){var l=i[a];0!==r[l]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},r={app:0},s=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/Pathfinding-Visualizer-ThreeJS/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var h=l;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"02ed":function(t,e,i){},"062b":function(t,e,i){t.exports=i.p+"img/github-logo.76d344f0.svg"},"0e70":function(t,e,i){t.exports=i.p+"img/building3.d6746a10.png"},"157f":function(t,e,i){"use strict";var n=i("5094"),r=i.n(n);r.a},"18a8":function(t,e,i){t.exports=i.p+"img/street-view.6fd6fe57.svg"},"1c29":function(t,e,i){t.exports=i.p+"img/path.f58e7b47.svg"},"1d08":function(t,e,i){t.exports=i.p+"img/perspective.c00ad1c1.svg"},"24e5":function(t,e,i){t.exports=i.p+"img/camera.6ac2385c.svg"},"2ad7":function(t,e,i){t.exports=i.p+"img/cross.6f16807f.svg"},"468b":function(t,e,i){t.exports=i.p+"img/setup.a66ede3b.svg"},5094:function(t,e,i){},"513b":function(t,e,i){t.exports=i.p+"img/ground.af02378a.png"},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("PathfindingVisualizer")],1)},s=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pathfinding-visualizer",on:{click:t.clearFocus}},[n("VisualizerCanvas",{ref:"visualizer",attrs:{nodeDimensions:t.nodeDimensions,rows:t.rows,cols:t.cols,grid:t.grid,start:t.start,finish:t.finish,visualizerState:t.visualizerState,colors:t.colors,controlType:t.controlType,worldSetup:t.worldSetup,selectedAlgorithm:t.selectedAlgorithm,streaming:t.streaming,thresholdValue:t.thresholdValue},on:{clickEvent:t.onClick,groundInitialized:function(e){t.ground=e},switchWorldSetup:function(e){t.worldSetup=!t.worldSetup},switchControlType:function(e){t.controlType="Orbit"==t.controlType?"PointerLock":"Orbit"},updateEnds:t.updateEnds}}),n("transition-group",{staticClass:"header py-1",attrs:{name:"slide",mode:"out-in",tag:"div"}},[t.worldSetup?t._e():n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedAlgorithm,expression:"selectedAlgorithm"}],key:"algo-select",attrs:{id:"algorithms",disabled:"running"==t.visualizerState},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedAlgorithm=e.target.multiple?i:i[0]}}},t._l(t.algorithms,(function(e){return n("option",{key:e.algorithm,domProps:{value:e}},[t._v(t._s(e.displayName))])})),0),t.worldSetup?t._e():n("Button",{key:"visualize",staticClass:"accent",attrs:{disabled:"running"==t.visualizerState||t.worldSetup},on:{click:function(e){return t.visualizeAlgorithm()}}},[n("img",{staticClass:"fallback-icon",attrs:{src:i("1c29"),alt:""}}),n("span",{staticClass:"lg"},[t._v("Visualize!")])]),n("Button",{key:"clear-path",staticClass:"danger",attrs:{disabled:"running"==t.visualizerState},on:{click:t.clearPath}},[n("img",{staticClass:"fallback-icon",attrs:{src:i("2ad7"),alt:""}}),n("span",{staticClass:"lg"},[t._v("Clear path")]),n("span",{staticClass:"sm"},[t._v("path")])]),n("Button",{key:"clear-walls",staticClass:"danger",attrs:{disabled:"running"==t.visualizerState},on:{click:t.clearWalls}},[n("img",{staticClass:"fallback-icon",attrs:{src:i("2ad7"),alt:""}}),n("span",{staticClass:"lg"},[t._v("Clear walls")]),n("span",{staticClass:"sm"},[t._v("walls")])]),n("div",{key:"maze-select",staticClass:"maze-dropdown"},[n("Button",{staticClass:"info btn-maze",on:{click:t.onMazeDropdownClick}},[n("img",{staticClass:"fallback-icon",attrs:{src:i("bc84"),alt:""}}),n("span",{staticClass:"lg"},[t._v("Maze Algorithms")])]),t.dropdownOpen?n("div",{staticClass:"dropdown"},t._l(t.mazeAlgorithms,(function(e){return n("div",{key:e,staticClass:"dropdown-item",on:{click:function(i){return t.generateMaze(e)}}},[t._v(" "+t._s(e)+" ")])})),0):t._e()],1),t.worldSetup?t._e():n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedSpeed,expression:"selectedSpeed"}],key:"speed-select",attrs:{id:"algorithms",disabled:"running"==t.visualizerState},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedSpeed=e.target.multiple?i:i[0]}}},t._l(t.speeds,(function(e){return n("option",{key:e.text,domProps:{value:e}},[t._v(t._s(e.text))])})),0)],1),"PointerLock"!=t.controlType?n("Button",{key:"setup",staticClass:"hover btn-setup warning",class:{setup:t.worldSetup},on:{click:function(e){t.worldSetup=!t.worldSetup}}},[n("img",{attrs:{src:i("468b"),alt:""}}),n("span",{staticClass:"lg"},[t._v(t._s(t.worldSetup?"Complete Setup":"Setup World"))])]):t._e(),t.worldSetup?t._e():n("Button",{key:"switch-controls",staticClass:"hover btn-controls warning",on:{click:t.switchControl}},["Orbit"==t.controlType?n("img",{attrs:{src:i("18a8"),alt:""}}):n("img",{attrs:{src:i("1d08"),alt:""}}),n("span",{staticClass:"lg"},[t._v(t._s("Orbit"==t.controlType?"First-person":"Perspective"))])]),"Orbit"==t.controlType?n("Button",{key:"reset-camera",staticClass:"hover btn-camera warning",on:{click:function(e){return t.$refs.visualizer.resetCamera()}}},[n("img",{attrs:{src:i("ad9f"),alt:""}}),n("span",{staticClass:"lg"},[t._v("Reset Camera")])]):t._e(),t.worldSetup?n("Button",{key:"device-camera",staticClass:"hover btn-device-cam warning",class:{active:t.deviceCamInput},on:{click:function(e){t.deviceCamInput=!t.deviceCamInput}}},[n("img",{attrs:{src:i("24e5"),alt:""}}),n("span",{staticClass:"lg"},[t._v(t._s("Device Input"))])]):t._e(),n("canvas",{attrs:{id:"video-canvas"}}),n("video",{attrs:{id:"video",autoplay:""}}),t.deviceCamInput?n("input",{directives:[{name:"model",rawName:"v-model",value:t.thresholdValue,expression:"thresholdValue"}],ref:"threshold",attrs:{id:"threshold",type:"range",min:"0",max:"255"},domProps:{value:t.thresholdValue},on:{__r:function(e){t.thresholdValue=e.target.value}}}):t._e(),n("Info",{ref:"info",attrs:{colors:t.colors},on:{unlockSwarm:t.unlockSwarm}})],1)},a=[],l=(i("4160"),i("159b"),i("53ca")),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"visualizer"},on:{click:function(e){"PointerLock"==t.controlType?t.controls.lock():t.clearFocus}}},[i("script",{attrs:{type:"x-shader/x-vertex",id:"vertexShader"}},[t._v(" varying vec3 vWorldPosition; void main() { vec4 worldPosition = modelMatrix * vec4( position, 1.0 ); vWorldPosition = worldPosition.xyz; gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 ); } ")]),i("script",{attrs:{type:"x-shader/x-fragment",id:"fragmentShader"}},[t._v(" uniform vec3 topColor; uniform vec3 bottomColor; uniform float offset; uniform float exponent; varying vec3 vWorldPosition; void main() { float h = normalize( vWorldPosition + offset ).y; gl_FragColor = vec4( mix( bottomColor, topColor, max( pow( max( h , 0.0), exponent ), 0.0 ) ), 1.0 ); } ")])])},h=[],d=(i("caad"),i("b0c0"),i("a9e3"),i("b64b"),i("38cf"),i("b85c")),u=i("5a89"),g=i("4721"),f=i("b317"),p=i("22b5"),m=i("ef20"),v=(i("96cf"),i("1da1")),w=i("2909");function b(t){var e,i=[],n=Object(d["a"])(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;i.push.apply(i,Object(w["a"])(r))}}catch(s){n.e(s)}finally{n.f()}return i}function y(t){var e=[],i=t;null!=i.previousNode&&(i=i.previousNode);while(null!==i){if(null===i.previousNode)break;e.unshift(i),i=i.previousNode}return e}function k(t,e,i){return x.apply(this,arguments)}function x(){return x=Object(v["a"])(regeneratorRuntime.mark((function t(e,i,n){var r,s,o,a,l=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(r=l.length>3&&void 0!==l[3]?l[3]:300,s=l.length>4?l[4]:void 0,o=0;o<n.length;o++)new p["a"].Tween(e.faces[1].color).to(n[o],r).onUpdate((function(){i.colorsNeedUpdate=!0})).delay(200*o).start(),new p["a"].Tween(e.faces[2].color).to(n[o],r).onUpdate((function(){i.colorsNeedUpdate=!0})).delay(200*o).start();s&&s.position&&(a=["a","b","c"],a.forEach((function(t){new p["a"].Tween(i.vertices[e.faces[1][t]]).to({y:.5},r).onUpdate((function(){i.verticesNeedUpdate=!0})).start(),new p["a"].Tween(i.vertices[e.faces[2][t]]).to({y:.5},r).onUpdate((function(){i.verticesNeedUpdate=!0})).start()})),a.forEach((function(t){new p["a"].Tween(i.vertices[e.faces[1][t]]).to({y:0},r).onUpdate((function(){i.verticesNeedUpdate=!0})).delay(100).start(),new p["a"].Tween(i.vertices[e.faces[2][t]]).to({y:0},r).onUpdate((function(){i.verticesNeedUpdate=!0})).delay(100).start()})));case 4:case"end":return t.stop()}}),t)}))),x.apply(this,arguments)}var C={props:["nodeDimensions","grid","rows","cols","start","finish","visualizerState","colors","controlType","worldSetup","selectedAlgorithm","streaming","thresholdValue"],data:function(){return{scene:null,camera:null,cameraY:0,defaultCameraY:250,renderer:null,pointerLock:{moveForward:!1,moveBackward:!1,moveLeft:!1,moveRight:!1,velocity:null,direction:null,prevTime:null},controls:null,orbitControls:null,pointerLockControls:null,raycaster:null,ambientLight:null,hemisphereLight:null,directionalLight:null,ground:null,wallGeomtery:null,wallMaterials:[],walls:{},wallTextures:[{path:"building1.png",repeatY:1},{path:"building2.png",repeatY:2},{path:"building3.png",repeatY:3}],down:!1,moved:!1,currentEvent:null,mouse:null,intersectedNode:null,clock:null,stats:null,videoCanvas:null,video:null}},computed:{clickableObjects:function(){var t=[];t.push(this.ground);for(var e=0,i=Object.keys(this.walls);e<i.length;e++){var n=i[e];this.walls[n].visible&&t.push(this.walls[n])}return t},collidableObjects:function(){for(var t=[],e=0,i=Object.keys(this.walls);e<i.length;e++){var n=i[e];this.walls[n].visible&&t.push(this.walls[n])}return t}},watch:{controlType:function(t,e){this.setControls()},worldSetup:function(t,e){var i=this;t?(p["a"].removeAll(),new p["a"].Tween(this.camera.position).to({x:0,y:this.cameraY-30,z:0},500).easing(p["a"].Easing.Exponential.Out).onUpdate((function(){i.camera.lookAt(i.scene.position)})).onComplete((function(){i.controls.enableRotate=!1;var t=new u["E"];i.camera.getWorldDirection(t),i.controls.target.copy(i.camera.position).add(t.multiplyScalar(i.cameraY-30))})).start(),new p["a"].Tween(this.camera.rotation).to({y:0,z:0},500).easing(p["a"].Easing.Exponential.Out).start()):new p["a"].Tween(this.camera.position).to({y:this.cameraY},500).easing(p["a"].Easing.Exponential.Out).onComplete((function(){i.controls.enableRotate=!0,i.controls.update()})).start()},streaming:function(t,e){if(!t)for(var i=0;i<this.rows;i++)for(var n=0;n<this.cols;n++)this.updateNode(this.grid[i][n])}},created:function(){this.cameraY=this.defaultCameraY},mounted:function(){this.init(),this.videoCanvas=document.querySelector("#video-canvas"),this.video=document.querySelector("video")},methods:{init:function(){var t=window.innerWidth,e=window.innerHeight;this.scene=new u["x"],this.scene.background=new u["e"](12310271),this.scene.fog=new u["j"](16777215,0,750),this.camera=new u["s"](60,t/e,1,5e3),this.camera.position.y=this.cameraY+2e3,this.camera.position.x=-500,this.camera.position.z=500,this.renderer=new u["F"]({antialias:!0}),this.renderer.setSize(t,e),this.renderer.shadowMap.enabled=!0,document.getElementById("visualizer").appendChild(this.renderer.domElement),this.addControls(),this.setControls(!0),this.raycaster=new u["v"];var n=this.cols*this.nodeDimensions.width,r=this.rows*this.nodeDimensions.height,s=this,o=new u["t"](n,r,this.cols,this.rows);o.rotateX(-Math.PI/2);var a=new u["C"];a.load(i("513b"),(function(t){t.wrapS=u["w"],t.wrapT=u["w"],t.repeat.x=s.rows,t.repeat.y=s.cols;var e=new u["q"]({map:t,side:u["k"],vertexColors:u["i"]});s.ground=new u["p"](o,e),s.ground.receiveShadow=!0,s.ground.position.y=.02,s.scene.add(s.ground),s.initGrid(),s.$emit("groundInitialized",s.ground)}),void 0,(function(t){console.log(t)}));var l=new u["t"](1e3,1e3,this.cols,this.rows);l.rotateX(-Math.PI/2);var c=new u["q"]({color:12305104,side:u["k"]}),h=new u["p"](l,c);this.scene.add(h);var g=this.cols*this.nodeDimensions.height,f=this.cols,p=new u["l"](g,f,6060221,6060221);p.position.y=.035,this.scene.add(p);var v=2*this.nodeDimensions.height;this.wallGeomtery=new u["c"](this.nodeDimensions.width,v,this.nodeDimensions.height);this.wallTextures[Math.floor(Math.random()*this.wallTextures.length)];this.wallMaterials.push(new u["r"]({color:new u["e"](this.colors.wall.r,this.colors.wall.g,this.colors.wall.b)}));var w,b=Object(d["a"])(this.wallTextures);try{var y=function(){var t=w.value;a.load(i("a1c9")("./"+t.path),(function(e){e.wrapT=u["w"],e.repeat.y=t.repeatY,s.wallMaterials.push(new u["q"]({map:e}))}),void 0,(function(t){console.log(t)}))};for(b.s();!(w=b.n()).done;)y()}catch(M){b.e(M)}finally{b.f()}this.ambientLight=new u["a"](16777215,1),this.scene.add(this.ambientLight),this.hemisphereLight=new u["m"](16777215,16777215,.1),this.hemisphereLight.color.setHSL(.6,1,.6),this.hemisphereLight.groundColor.setHex(8877917),this.hemisphereLight.position.set(0,5,0),this.scene.add(this.hemisphereLight),this.directionalLight=new u["f"](16777215,.5),this.directionalLight.color.setHSL(.1,1,.95),this.directionalLight.position.set(-1,1.75,1),this.directionalLight.position.multiplyScalar(70),this.scene.add(this.directionalLight),this.directionalLight.castShadow=!0,this.directionalLight.shadow.mapSize.width=2048,this.directionalLight.shadow.mapSize.height=2048;var k=200;this.directionalLight.shadow.camera.left=-k,this.directionalLight.shadow.camera.right=k,this.directionalLight.shadow.camera.top=k,this.directionalLight.shadow.camera.bottom=-k,this.directionalLight.shadow.camera.far=350;var x=document.getElementById("vertexShader").textContent,C=document.getElementById("fragmentShader").textContent,L={topColor:{value:new u["e"](30719)},bottomColor:{value:new u["e"](16777215)},offset:{value:33},exponent:{value:.6}};L["topColor"].value.copy(this.hemisphereLight.color),this.scene.fog.color.copy(L["bottomColor"].value);var S=new u["z"](1e3,32,15),T=new u["y"]({uniforms:L,vertexShader:x,fragmentShader:C,side:u["b"]}),z=new u["p"](S,T);this.scene.add(z),this.stats=new m["a"],this.stats.dom.style.top="auto",this.stats.dom.style.bottom="5px",this.stats.dom.style.left="3px",document.getElementById("visualizer").appendChild(this.stats.dom),window.addEventListener("resize",this.resizeHandler),this.renderer.domElement.addEventListener("mousedown",this.onMouseDown,!0),this.renderer.domElement.addEventListener("touchstart",this.onMouseDown,!0),this.renderer.domElement.addEventListener("mousemove",this.onMouseMove,!0),this.renderer.domElement.addEventListener("touchmove",this.onMouseMove,!0),this.renderer.domElement.addEventListener("mouseup",this.onMouseup,!0),this.renderer.domElement.addEventListener("mouseleave",this.onMouseLeave,!0),this.renderer.domElement.addEventListener("touchend",this.onMouseup,!0),this.mouse=new u["D"],this.renderLoop()},renderLoop:function(){if(requestAnimationFrame(this.renderLoop),"PointerLock"==this.controlType){var t=this.clock.getDelta();this.animatePlayer(t)}this.worldSetup&&(this.hoverObjectLoop(),this.streaming&&this.deviceCamLoop()),this.renderer.render(this.scene,this.camera),p["a"].update(),this.stats.update()},hoverObjectLoop:function(){if(this.down){this.raycaster.setFromCamera(this.mouse,this.camera);var t=this.raycaster.intersectObjects(this.clickableObjects);if(t.length>0){var e;if("wall"==t[0].object.name)e=this.faceIndexToCoordinates(2*t[0].object.wallId);else{var i=t[0].faceIndex;e=this.faceIndexToCoordinates(i)}if(this.grid[e.row][e.col]!=this.intersectedNode){var n=["start","finish"];if(n.includes(this.grid[e.row][e.col].status)||this.intersectedNode&&n.includes(this.intersectedNode.status)){var r;r=n.includes(this.grid[e.row][e.col].status)?this.grid[e.row][e.col].status:this.intersectedNode.status;var s={};s[r]={row:e.row,col:e.col},this.intersectedNode&&n.includes(this.intersectedNode.status)&&(this.intersectedNode.status="default"),this.grid[e.row][e.col].status=r,this.$emit("updateEnds",s)}else"unweighted"==this.selectedAlgorithm.type||this.intersectedNode&&n.includes(this.intersectedNode.status)||(this.grid[e.row][e.col].status="wall"==this.grid[e.row][e.col].status?"default":"wall");this.intersectedNode=this.grid[e.row][e.col]}}}else this.intersectedNode=null},animatePlayer:function(t){var e=300;this.pointerLock.velocity.x-=10*this.pointerLock.velocity.x*t,this.pointerLock.velocity.z-=10*this.pointerLock.velocity.z*t,0==this.detectPlayerCollision()?(this.pointerLock.direction.z=Number(this.pointerLock.moveForward)-Number(this.pointerLock.moveBackward),this.pointerLock.direction.x=Number(this.pointerLock.moveRight)-Number(this.pointerLock.moveLeft),this.pointerLock.direction.normalize(),(this.pointerLock.moveForward||this.pointerLock.moveBackward)&&(this.pointerLock.velocity.z-=this.pointerLock.direction.z*e*t),(this.pointerLock.moveLeft||this.pointerLock.moveRight)&&(this.pointerLock.velocity.x-=this.pointerLock.direction.x*e*t),this.controls.moveRight(-this.pointerLock.velocity.x*t),this.controls.moveForward(-this.pointerLock.velocity.z*t)):(this.pointerLock.velocity.x=0,this.pointerLock.velocity.z=0),this.pointerLock.velocity.y-=9.8*50*t,this.detectOnObject()&&(this.pointerLock.velocity.y=Math.max(0,this.pointerLock.velocity.y),this.pointerLock.canJump=!0),this.controls.getObject().position.y+=this.pointerLock.velocity.y*t,this.controls.getObject().position.y<this.cameraY&&(this.pointerLock.velocity.y=0,this.controls.getObject().position.y=this.cameraY,this.pointerLock.canJump=!0)},detectPlayerCollision:function(){var t,e=this.controls.getDirection(new u["E"](0,0,0)).clone(),i=1;this.pointerLock.moveBackward?(t=new u["o"],t.makeRotationY(this.degreesToRadians(180))):this.pointerLock.moveLeft?(t=new u["o"],t.makeRotationY(this.degreesToRadians(90))):this.pointerLock.moveRight&&(t=new u["o"],t.makeRotationY(this.degreesToRadians(270))),void 0!==t&&e.applyMatrix4(t);var n=new u["v"](this.controls.getObject().position,e);return!!this.rayIntersect(n,i)},detectOnObject:function(){var t=this.cameraY+1,e=new u["v"](this.controls.getObject().position,new u["E"](0,-1,0));return!!this.rayIntersect(e,t)},deviceCamLoop:function(){var t=this.videoCanvas.getContext("2d");t.drawImage(this.video,0,0,this.videoCanvas.width,this.videoCanvas.height);for(var e=t.getImageData(0,0,this.videoCanvas.width,this.videoCanvas.height),i=0;i<this.videoCanvas.height;i++)for(var n=0;n<this.videoCanvas.width;n++){var r=4*(n+i*this.videoCanvas.width),s=e.data[r+0],o=e.data[r+1],a=e.data[r+2],l=Math.floor((s+o+a)/3),c=Math.floor(this.videoCanvas.width-1-n),h="default";i==this.start.row&&c==this.start.col?h="start":i==this.finish.row&&c==this.finish.col&&(h="finish"),l>this.thresholdValue?this.grid[i][c].status=h:"start"!=h&&"finish"!=h&&(this.grid[i][c].status="wall")}},rayIntersect:function(t,e){for(var i=t.intersectObjects(this.collidableObjects),n=0;n<i.length;n++)if(i[n].distance<e)return!0;return!1},addControls:function(){this.orbitControls=new g["a"](this.camera,this.renderer.domElement),this.pointerLockControls=new f["a"](this.camera,this.renderer.domElement),this.pointerLockControls.addEventListener("lock",(function(){console.log("Pointer Locked")})),this.pointerLockControls.addEventListener("unlock",(function(){console.log("Pointer Unlocked")})),this.clock=new u["d"],document.addEventListener("keydown",this.onKeyDown,!1),document.addEventListener("keyup",this.onKeyUp,!1),this.pointerLock.velocity=new u["E"],this.pointerLock.direction=new u["E"],this.scene.add(this.pointerLockControls.getObject())},setControls:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this;if(p["a"].removeAll(),"Orbit"==this.controlType)this.cameraY=this.defaultCameraY,this.camera.near=1,this.camera.updateProjectionMatrix(),this.controls=this.orbitControls,this.controls.enabled=!0,setTimeout((function(){e.resetCamera()}),t?800:0);else if("PointerLock"==this.controlType){this.cameraY=3,this.camera.near=.05,this.camera.updateProjectionMatrix(),this.controls.enabled=!1,this.controls=this.pointerLockControls;var i=this.ground.geometry.vertices[this.grid[this.start.row][this.start.col].faces[1]["a"]];new p["a"].Tween(this.camera.position).to(i,2e3).easing(p["a"].Easing.Exponential.Out).start(),new p["a"].Tween(this.camera.rotation).to({x:0,y:5*Math.PI/4,z:0},2e3).easing(p["a"].Easing.Exponential.Out).start()}},resetCamera:function(){var t=this;new p["a"].Tween(this.camera.position).to({x:0,y:this.cameraY,z:0},2e3).easing(p["a"].Easing.Exponential.Out).onUpdate((function(){t.camera.lookAt(t.scene.position)})).onComplete((function(){var e=new u["E"];t.camera.getWorldDirection(e),t.controls.target.copy(t.camera.position).add(e.multiplyScalar(t.cameraY))})).start(),new p["a"].Tween(this.camera.rotation).to({x:-Math.PI/2,y:0,z:0},2e3).easing(p["a"].Easing.Exponential.Out).start()},resizeHandler:function(t){var e=window.innerWidth,i=window.innerHeight;this.renderer.setSize(e,i),this.camera.aspect=e/i,this.camera.updateProjectionMatrix()},initGrid:function(){for(var t=this,e=0;e<this.rows;e++){for(var i=[],n=0;n<this.cols;n++){var r=this.createNode(e,n);i.push(r)}this.grid.push(i)}for(var s=function(e){for(var i=function(i){t.$watch((function(){return this.grid[e][i]}),t.nodeWatcher,{deep:!0})},n=0;n<t.cols;n++)i(n)},o=0;o<this.rows;o++)s(o)},createNode:function(t,e){var i={},n=2*t*this.cols+2*e;i[1]=this.ground.geometry.faces[n],n=n%2==0?n+1:n-1,i[2]=this.ground.geometry.faces[n];var r="default";t==this.start.row&&e==this.start.col?r="start":t==this.finish.row&&e==this.finish.col&&(r="finish");var s={id:t*this.cols+e,row:t,col:e,faces:i,status:r,distance:1/0,totalDistance:1/0,heuristicDistance:null,direction:null,weight:0,previousNode:null};return"start"==r?k(s,this.ground.geometry,[this.colors.start]):"finish"==r&&k(s,this.ground.geometry,[this.colors.finish]),s},nodeWatcher:function(t,e){"running"!=this.visualizerState&&this.updateNode(t,this.streaming)},updateNode:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("wall"==t.status){var i=.5+Math.random();e||this.addWall(t,i,e?0:1e3),k(t,this.ground.geometry,[this.colors.wall])}else"start"==t.status?k(t,this.ground.geometry,[this.colors.start]):"finish"==t.status?k(t,this.ground.geometry,[this.colors.finish]):"visited"==t.status?k(t,this.ground.geometry,[this.colors.visited]):(null!=this.walls[t.id]&&this.walls[t.id].visible&&!e&&this.hideWall(this.walls[t.id]),k(t,this.ground.geometry,[this.colors.default]))},addWall:function(t,e,i){if(this.walls[t.id])this.walls[t.id].visible||this.showWall(this.walls[t.id],e,i);else{var n=1+Math.floor(Math.random()*(this.wallMaterials.length-1)),r=new u["p"](this.wallGeomtery,this.wallMaterials[n]);r.name="wall",r.wallId=t.id,r.scale.y=e,r.castShadow=!0,r.receiveShadow=!0,this.scene.add(r),this.$set(this.walls,t.id,r);var s=this.cols*this.nodeDimensions.width,o=this.rows*this.nodeDimensions.height,a=this.wallGeomtery.parameters.height*r.scale.y,l=-s/2+this.nodeDimensions.width/2+t.col*this.nodeDimensions.width,c=a/2,h=-o/2+this.nodeDimensions.height/2+t.row*this.nodeDimensions.height;0==i?r.position.set(l,c,h):(r.position.set(l,a,h),new p["a"].Tween(r.position).to({x:l,y:c,z:h},i).easing(p["a"].Easing.Bounce.Out).start())}},showWall:function(t,e,i){t.scale.y=e;var n=t.geometry.parameters.height*t.scale.y;t.visible=!0,0==i?t.position.setY(n/2):(t.position.setY(n),new p["a"].Tween(t.position).to({y:n/2},i).easing(p["a"].Easing.Bounce.Out).start())},hideWall:function(t){t.visible=!1},onMouseDown:function(t){this.down=!0,this.moved=!1,this.currentEvent=t,this.setMouseVector(t,"move"),this.clearFocus()},onMouseMove:function(t){this.down&&(this.moved=!0,this.worldSetup&&this.setMouseVector(t,"move"))},onMouseLeave:function(){this.moved&&this.onMouseup(),this.down=!1},onMouseup:function(t){var e=25;if(this.moved){var i=0;this.currentEvent.touches&&this.currentEvent.touches.length>0?(i=this.calcDist(this.currentEvent.touches[0].pageX-t.changedTouches[0].pageX,this.currentEvent.touches[0].pageY-t.changedTouches[0].pageY),i>e?this.moveHandler(t):this.clickHandler(t)):this.moveHandler(t)}else this.clickHandler(t);this.currentEvent=null,this.moved=!1,this.down=!1},calcDist:function(t,e){return t*t+e*e},setMouseVector:function(t,e){var i="click"==e?this.currentEvent:t;i.touches&&i.touches.length>0?(this.mouse.x=i.touches[0].clientX/window.innerWidth*2-1,this.mouse.y=-i.touches[0].clientY/window.innerHeight*2+1):(this.mouse.x=t.clientX/window.innerWidth*2-1,this.mouse.y=-t.clientY/window.innerHeight*2+1)},moveHandler:function(t){},clickHandler:function(t){if(!this.worldSetup&&"PointerLock"!=this.controlType){this.setMouseVector(t,"click"),this.raycaster.setFromCamera(this.mouse,this.camera);var e=this.raycaster.intersectObjects(this.clickableObjects);if(e.length>0){var i;if("wall"==e[0].object.name)i=this.faceIndexToCoordinates(2*e[0].object.wallId);else{var n=e[0].faceIndex;console.log(n),i=this.faceIndexToCoordinates(n)}this.$emit("clickEvent",this.grid[i.row][i.col])}}},degreesToRadians:function(t){return t*Math.PI/180},faceIndexToCoordinates:function(t){return{row:Math.floor(t/2/this.rows),col:Math.floor(t/2%this.cols)}},clearFocus:function(){document.getElementsByClassName("header")[0].click()},onKeyDown:function(t){if("Orbit"==this.controlType)switch(t.keyCode){case 87:this.$emit("switchWorldSetup");break;case 80:this.$emit("switchControlType");break}else switch(t.keyCode){case 38:case 87:this.pointerLock.moveForward=!0;break;case 37:case 65:this.pointerLock.moveLeft=!0;break;case 40:case 83:this.pointerLock.moveBackward=!0;break;case 39:case 68:this.pointerLock.moveRight=!0;break;case 32:!0===this.pointerLock.canJump&&(this.pointerLock.velocity.y+=200),this.pointerLock.canJump=!1;break;case 80:this.controls.isLocked||this.$emit("switchControlType");break}},onKeyUp:function(t){switch(t.keyCode){case 38:case 87:this.pointerLock.moveForward=!1;break;case 37:case 65:this.pointerLock.moveLeft=!1;break;case 40:case 83:this.pointerLock.moveBackward=!1;break;case 39:case 68:this.pointerLock.moveRight=!1;break}}}},L=C,S=(i("157f"),i("2877")),T=Object(S["a"])(L,c,h,!1,null,null,null),z=T.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"infoBox",staticClass:"info-container",class:t.containerClasses},[""!=t.status?n("button",{staticClass:"btn-close",on:{click:t.resetToLegends}},[t._v("✖")]):t._e(),n("h2",[t._v(t._s(t.current.heading))]),n("p",{staticClass:"main-content",domProps:{innerHTML:t._s(t.current.text)}}),"attributions"==t.status&&t.swarmUnlocked?n("div",{staticClass:"swarm-unlocked"},[t._v("Swarm Unlocked!")]):t._e(),n("div",{staticClass:"info-buttons"},[""==t.status?n("Button",{staticClass:"info",on:{click:t.startTutorial}},[t._v("Tutorial")]):t._e(),""==t.status?n("Button",{staticClass:"danger",on:{click:t.showAttributions}},[t._v("Attributions")]):t._e(),n("a",{attrs:{href:"https://github.com/dhruvmisra/Pathfinding-Visualizer-ThreeJS",target:"_blank"}},[""==t.status?n("Button",{staticClass:"white"},[n("img",{attrs:{src:i("062b"),alt:""}})]):t._e()],1),"tutorial"==t.status?n("div",{staticClass:"tutorial-buttons"},[n("Button",{staticClass:"danger btn-tutorial",on:{click:t.resetToLegends}},[t._v("Skip")]),n("div",{staticClass:"btn-group"},[n("Button",{staticClass:"info btn-tutorial",attrs:{disabled:0==t.tutorialIndex},on:{click:function(e){t.tutorialIndex--}}},[t._v("Prev")]),n("Button",{staticClass:"info btn-tutorial",on:{click:function(e){t.tutorialIndex==t.tutorial.length-1?t.resetToLegends():t.tutorialIndex++}}},[t._v(t._s(t.tutorialIndex==t.tutorial.length-1?"End":"Next"))])],1),n("small",[t._v(t._s(t.tutorialIndex+1)+"/"+t._s(t.tutorial.length))])],1):t._e()],1),n("img",{staticClass:"info-icon",attrs:{src:i("76ed")}})])},_=[],j=(i("99af"),{props:{info:Object,colors:Object},data:function(){return{status:"",current:{heading:"",text:""},clemCounter:0,clemTimeout:null,swarmUnlocked:!1,tutorial:[{heading:"Pathfinding Visualizer in 3D!",text:'This is a 3D visualizer for multiple pathfinding algorithms.\n\t\t\t\t<br> \n\t\t\t\tA pathfinding algorithm seeks to find the shortest path between two points.\n\t\t\t\t<br><br> \n\t\t\t\t<div style="display:flex; flex-wrap: wrap; align-items: center; justify-content: center;">\n\t\t\t\t\t<img src="img/tutorial/road.png" style="width: 120px; margin: 10px;">\n\t\t\t\t</div><br>\n\t\t\t\tAll of the algorithms on this web-app are adapted for a 2D grid, where 90 degree turns have a cost of 1 and movements from a node to another have a cost of 1.'},{heading:"Setup the world",text:'Click the button on the right to setup the world. \n\t\t\t\t<br> \n\t\t\t\tYou can change the start/end positions and add walls easily by clicking and dragging.\n\t\t\t\t<br>\n\t\t\t\t<div style="display:flex; flex-wrap: wrap; align-items: center; justify-content: center;">\n\t\t\t\t\t<img src="img/tutorial/setupWorld.jpg" style="width: 160px; margin: 10px;">\n\t\t\t\t\t<img src="img/tutorial/setupWorld2.jpg" style="width: 150px; margin: 10px;">\n\t\t\t\t</div>\n\t\t\t\t<br>\n\t\t\t\t<small>("They are quite clearly buildings, Dhruv" - I know but I\'m used to the \'wall\' terminology :p)</small>'},{heading:"Capture using Device Camera",text:'While setting up the world, click on the camera icon to get the feed from your device camera and create the grid. \n\t\t\t\t<br> \n\t\t\t\t<div style="display:flex; flex-wrap: wrap; align-items: center; justify-content: center;">\n\t\t\t\t\t<img src="img/tutorial/deviceCamButton.jpg" style="width: 160px; margin: 10px;">\n\t\t\t\t\t<img src="img/tutorial/deviceCamPreview.jpg" style="width: 80px; margin: 10px;">\n\t\t\t\t\t<img src="img/tutorial/deviceCamGrid.jpg" style="width: 160px; margin: 10px;">\n\t\t\t\t</div>\n\t\t\t\t<br>\n\t\t\t\tYou can preview the feed in the bottom left corner and also set the brightness threshold level. Remember, dark pixels = walls.\n\t\t\t\t<br><br>\n\t\t\t\t<small>(Might affect performance)</small>'},{heading:"Select algorithm",text:'Select an algorithm from the top-left dropdown and click the Visualize button to, you know, visualize it.\n\t\t\t\t<br>\n\t\t\t\t<div style="display:flex; flex-wrap: wrap; align-items: center; justify-content: center;">\n\t\t\t\t\t<img src="img/tutorial/selectAlgo.jpg" style="width: 250px; margin: 10px;">\n\t\t\t\t</div>\n\t\t\t\tYou can change the speed from the right-most dropdown.\n\t\t\t\t<div style="display:flex; flex-wrap: wrap; align-items: center; justify-content: center;">\n\t\t\t\t\t<img src="img/tutorial/speed.jpg" style="width: 120px; margin: 10px;">\n\t\t\t\t</div>\n\t\t\t\t'},{heading:"Camera Movement",text:"Easily pan, rotate or dolly the camera as per you liking.\n\t\t\t\t<br><br>\n\t\t\t\t<table class=\"camera-table\">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>Left Click & drag/Finger drag</td>\n\t\t\t\t\t\t<td>Rotate</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>Mousewheel/Two finger pinch</td>\n\t\t\t\t\t\t<td>Dolly</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>Right Click & drag/Two finger drag</td>\n\t\t\t\t\t\t<td>Pan</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</table>\n\t\t\t\t<br><br>\n\t\t\t\t<small>I know you'll try to zoom all the way back to see what the Earth looks like. That's why I specifically put nothing there.</small>\n\t\t\t\t"},{heading:"Generate a maze",text:'Feeling lazy to add walls yourself? Select an algorithm from the Maze Algorithms dropdown to generate a maze.\n\t\t\t\t<br>\n\t\t\t\t<div style="display:flex; flex-wrap: wrap; align-items: center; justify-content: center;">\n\t\t\t\t\t<img src="img/tutorial/maze.jpg" style="width: 160px; margin: 10px;">\n\t\t\t\t\t<img src="img/tutorial/maze2.jpg" style="width: 200px; margin: 10px;">\n\t\t\t\t</div><br>\n\t\t\t\t<small>Don\'t be lazy to click the Visualize button though.</small>'},{heading:"First-Person view",text:'Love FPS games? You\'re in the right place! Only minus the Shooting part.\n\t\t\t\t<br><br>\n\t\t\t\tClick the First-Person button to dive right into the world!\n\t\t\t\t<br><br>\n\t\t\t\t<div style="display:flex; flex-wrap: wrap; align-items: center; justify-content: center;">\n\t\t\t\t\t<img src="img/tutorial/firstPerson.jpg" style="width: 150px; margin: 10px;">\n\t\t\t\t\t<img src="img/tutorial/firstPerson2.jpg" style="width: 200px; margin: 10px;">\n\t\t\t\t</div><br>\n\t\t\t\t<table class="camera-table">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>W/A/S/D</td>\n\t\t\t\t\t\t<td>Move</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>Space</td>\n\t\t\t\t\t\t<td>Jump</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>Mouse</td>\n\t\t\t\t\t\t<td>Camera control</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</table>\n\t\t\t\t<br>\n\t\t\t\t<small>Try it to know how Hulk feels while moving through the city.</small>'},{heading:"Have fun!",text:'Make sure to enjoy this as much as I did while building it. Practice your FPS skills too.\n\t\t\t\t<br><br>\n\t\t\t\tThere\'s little Easter Egg hidden in the system too, let\'s see if you can find it. ;)\n\t\t\t\t<br><br>\n\t\t\t\tYou can view the source code for this project on <a href="https://github.com/dhruvmisra/Pathfinding-Visualizer-ThreeJS" target="_blank">GitHub</a>\n\t\t\t\t'}],tutorialIndex:0,legends:{heading:"Pathfinding Visualizer",text:""},attributions:{heading:"Attributions",text:'<div style="text-align: left">\n\t\t\t\t<h3 style="margin: 5px 0; opacity: 0.4">Idea</h3>\n\t\t\t\t<span id="clem">Clément Mihailescu</span> for the inspiration to build this visualizer through his amazing <a href="https://github.com/clementmihailescu/Pathfinding-Visualizer" target="_blank">project</a> and <a href="https://www.youtube.com/channel/UCaO6VoaYJv4kS-TQO_M-N_g" target="_blank">YouTube channel</a>.<br>\n\t\t\t\tAnd playing krunker.io with my friends.\n\t\t\t\t<br><br>\n\t\t\t\t<h3 style="margin: 5px 0; opacity: 0.4">WebGL Library</h3>\n\t\t\t\tThree.js\n\t\t\t\t<br><br>\n\t\t\t\t<h3 style="margin: 5px 0; opacity: 0.4">Assets & Icons</h3>\n\t\t\t\tTextures from <a href="https://opengameart.org/" target="_blank">OpenGameArt.org</a><br>\n\t\t\t\tIcons made by <a href="https://www.flaticon.com/authors/freepik" target="_blank">Freepik</a> from <a href="https://www.flaticon.com/" target="_blank"> www.flaticon.com</a>\n\t\t\t\t<br><br>\n\t\t\t\t<h3 style="margin: 5px 0; opacity: 0.4">Fork me on GitHub</h3>\n\t\t\t\tSource code <a href="https://github.com/dhruvmisra/Pathfinding-Visualizer-ThreeJS" target="_blank">repository</a>.\n\t\t\t\t<br><br>\n\t\t\t\t<p style="text-align: center; margin: 1em 0;">Made with ❤️ in Vue.js</p>\n\t\t\t</div>\n\t\t\t'}}},computed:{containerClasses:function(){var t={centered:"tutorial"==this.status||"attributions"==this.status};return t[this.status]=!0,t}},watch:{tutorialIndex:function(t,e){this.current=this.tutorial[t]}},created:function(){this.current=this.legends},mounted:function(){var t=this;this.constructLegends();var e=localStorage.getItem("tutorial-viewed");if(e=JSON.parse(e),e&&e.expiry>Date.now())setTimeout((function(){t.alert()}),1800);else{setTimeout((function(){t.startTutorial()}),1800);var i=Math.round((new Date).getTime());i+=1728e5,localStorage.setItem("tutorial-viewed",JSON.stringify({expiry:new Date(i).getTime()}))}},methods:{constructLegends:function(){this.legends.text+='<table class="legends-table">\n\t\t\t\t<tr>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<div class="square" style="background-color: '.concat(this.getRGBString(this.colors.start),'"></div>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>Start Node</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<div class="square" style="background-color: ').concat(this.getRGBString(this.colors.finish),'"></div>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>Finish Node</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<div class="square" style="background-color: ').concat(this.getRGBString(this.colors.visited),'"></div>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>Visited Node</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<div class="square" style="background-color: ').concat(this.getRGBString(this.colors.path),'"></div>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>Path Node</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t\t')},getRGBString:function(t){return"rgb(".concat(255*t.r,", ").concat(255*t.g,", ").concat(255*t.b,")")},startTutorial:function(){this.tutorialIndex=0,this.current=this.tutorial[this.tutorialIndex],this.status="tutorial"},showAttributions:function(){var t=this;this.current=this.attributions,this.status="attributions",this.swarmUnlocked||this.$nextTick((function(){document.getElementById("clem").addEventListener("click",t.clemClick)}))},clemClick:function(){var t=this;this.swarmUnlocked||(clearTimeout(this.clemTimeout),this.clemCounter++,5==this.clemCounter&&(this.$emit("unlockSwarm"),this.swarmUnlocked=!0),this.clemTimeout=setTimeout((function(){t.clemCounter=0}),3e3))},resetToLegends:function(){this.$refs.infoBox.classList.remove("error");var t=document.getElementById("clem");t&&t.removeEventListener("click",this.clemClick),this.current=this.legends,this.status=""},alert:function(t){var e=this;this.$refs.infoBox.classList.remove("error"),this.$refs.infoBox.classList.add("alert"),t&&(this.current=t),setTimeout((function(){e.$refs.infoBox.classList.remove("alert")}),1e3)},error:function(t){var e=this;this.$refs.infoBox.classList.remove("error"),setTimeout((function(){e.$refs.infoBox.classList.add("error")}),0),t&&(this.current=t)}}}),O=j,E=(i("c822"),Object(S["a"])(O,M,_,!1,null,null,null)),D=E.exports;i("4de4"),i("a434");function P(t,e,i,n,r,s){e.distance=0,e.direction="right","astar"==r&&(e.totalDistance=0);var o=b(t);while(o.length){var a=I(o,r);while("wall"===a.status&&o.length)a=I(o,r);if(a.distance===1/0)return!1;if(n.push(a),a.status="visited",a.id===i.id)return"success!";"CLA"===r||"greedy"===r||"astar"==r?A(t,a,e,i,r,s):"dijkstra"===r&&A(t,a)}}function I(t,e){for(var i,n,r=0;r<t.length;r++)"astar"==e?(!i||i.totalDistance>t[r].totalDistance||i.totalDistance===t[r].totalDistance&&i.heuristicDistance>t[r].heuristicDistance)&&(i=t[r],n=r):(!i||i.distance>t[r].distance)&&(i=t[r],n=r);return t.splice(n,1),i}function A(t,e,i,n,r,s){var o,a=B(e,t),l=Object(d["a"])(a);try{for(l.s();!(o=l.n()).done;){var c=o.value;n?N(e,c,i,n,r,s):N(e,c)}}catch(h){l.e(h)}finally{l.f()}}function N(t,e,i,n,r,s){var o,a=$(t,e);if(n&&"CLA"===r){var l=15===e.weight?15:1;"manhattanDistance"===s?o=t.distance+(a[0]+l)*Y(e,n):"poweredManhattanDistance"===s?o=t.distance+e.weight+a[0]+Math.pow(Y(e,n),2):"extraPoweredManhattanDistance"===s&&(o=t.distance+(a[0]+l)*Math.pow(Y(e,n),7))}else n&&"greedy"===r?o=e.weight+a[0]+Y(e,n):"astar"==r?(e.heuristicDistance||(e.heuristicDistance=Y(e,n)),o=t.distance+e.weight+a[0]):o=t.distance+e.weight+a[0];o<e.distance&&(e.distance=o,e.previousNode=t,e.path=a[1],e.direction=a[2],"astar"==r&&(e.totalDistance=e.distance+e.heuristicDistance))}function B(t,e){var i=[],n=t.col,r=t.row;return r>0&&i.push(e[r-1][n]),r<e.length-1&&i.push(e[r+1][n]),n>0&&i.push(e[r][n-1]),n<e[0].length-1&&i.push(e[r][n+1]),i.filter((function(t){return"visited"!=t.stutus}))}function $(t,e){var i=t.row,n=t.col,r=e.row,s=e.col;if(r<i&&n===s){if("up"===t.direction)return[1,["f"],"up"];if("right"===t.direction)return[2,["l","f"],"up"];if("left"===t.direction)return[2,["r","f"],"up"];if("down"===t.direction)return[3,["r","r","f"],"up"];if("up-right"===t.direction)return[1.5,null,"up"];if("down-right"===t.direction)return[2.5,null,"up"];if("up-left"===t.direction)return[1.5,null,"up"];if("down-left"===t.direction)return[2.5,null,"up"]}else if(r>i&&n===s){if("up"===t.direction)return[3,["r","r","f"],"down"];if("right"===t.direction)return[2,["r","f"],"down"];if("left"===t.direction)return[2,["l","f"],"down"];if("down"===t.direction)return[1,["f"],"down"];if("up-right"===t.direction)return[2.5,null,"down"];if("down-right"===t.direction)return[1.5,null,"down"];if("up-left"===t.direction)return[2.5,null,"down"];if("down-left"===t.direction)return[1.5,null,"down"]}if(s<n&&i===r){if("up"===t.direction)return[2,["l","f"],"left"];if("right"===t.direction)return[3,["l","l","f"],"left"];if("left"===t.direction)return[1,["f"],"left"];if("down"===t.direction)return[2,["r","f"],"left"];if("up-right"===t.direction)return[2.5,null,"left"];if("down-right"===t.direction)return[2.5,null,"left"];if("up-left"===t.direction)return[1.5,null,"left"];if("down-left"===t.direction)return[1.5,null,"left"]}else if(s>n&&i===r){if("up"===t.direction)return[2,["r","f"],"right"];if("right"===t.direction)return[1,["f"],"right"];if("left"===t.direction)return[3,["r","r","f"],"right"];if("down"===t.direction)return[2,["l","f"],"right"];if("up-right"===t.direction)return[1.5,null,"right"];if("down-right"===t.direction)return[1.5,null,"right"];if("up-left"===t.direction)return[2.5,null,"right"];if("down-left"===t.direction)return[2.5,null,"right"]}}function Y(t,e){var i=[t.row,t.col],n=[e.row,e.col],r=Math.abs(i[0]-n[0]),s=Math.abs(i[1]-n[1]);return r+s}function U(t,e,i,n,r){var s=[e],o={start:!0},a=function(){var a="bfs"===r?s.shift():s.pop();if(n.push(a),"dfs"===r&&(o[a.id]=!0),a.status="visited",a.id===i.id)return{v:"success!"};var l=F(a,t,r);l.forEach((function(t){o[t.id]||("bfs"===r&&(o[t.id]=!0),t.id!=e.id&&(t.previousNode=a),s.push(t))}))};while(s.length){var c=a();if("object"===Object(l["a"])(c))return c.v}return!1}function F(t,e,i){var n,r=[],s=t.col,o=t.row;return o>0&&(n=e[o-1][s],"bfs"===i?r.push(n):r.unshift(n)),o<e.length-1&&(n=e[o+1][s],"bfs"===i?r.push(n):r.unshift(n)),s>0&&(n=e[o][s-1],"bfs"===i?r.push(n):r.unshift(n)),s<e[0].length-1&&(n=e[o][s+1],"bfs"===i?r.push(n):r.unshift(n)),r.filter((function(t){return"visited"!=t.stutus}))}function V(t,e,i){for(var n=0;n<t.length;n++)for(var r=0;r<t[0].length;r++){var s=Math.random(),o=t[n][r],a=["start","finish"],l="wall"===i?.25:.35;s<l&&!a.includes(o.status)&&(e.push(o),"wall"===i?o.weight=0:"weight"===i&&(o.weight=15))}}function W(t,e,i,n,r,s,o,a,l){if(!(i<e||r<n)){var c=["start","finish"];if(!o){var h,d;for(d=0;d<t[0].length;d++)h=0,E(t[h][d]);for(d=0;d<t[0].length;d++)h=t.length-1,E(t[h][d]);for(h=1;h<t.length-1;h++)d=0,E(t[h][d]);for(h=1;h<t.length-1;h++)d=t[0].length-1,E(t[h][d]);o=!0}if("horizontal"===s){for(var u=[],g=e;g<=i;g+=2)u.push(g);for(var f=[],p=n-1;p<=r+1;p+=2)f.push(p);var m,v=Math.floor(Math.random()*u.length),w=Math.floor(Math.random()*f.length),b=u[v],y=f[w],k=b;for(m=n-1;m<=r+1;m++)m!==y&&E(t[k][m]);W(t,e,b-2,n,r,b-2-e>r-n?s:"vertical",o,a,l),W(t,b+2,i,n,r,i-(b+2)>r-n?s:"vertical",o,a,l)}else{for(var x=[],C=n;C<=r;C+=2)x.push(C);for(var L=[],S=e-1;S<=i+1;S+=2)L.push(S);var T,z=Math.floor(Math.random()*x.length),M=Math.floor(Math.random()*L.length),_=x[z],j=L[M],O=_;for(T=e-1;T<=i+1;T++)T!==j&&E(t[T][O]);W(t,e,i,n,_-2,i-e>_-2-n?"horizontal":s,o,a,l),W(t,e,i,_+2,r,i-e>r-(_+2)?"horizontal":s,o,a,l)}}function E(t){c.includes(t.status)||(a.push(t),"wall"===l?t.weight=0:"weight"===l&&(t.weight=15))}}var R={components:{VisualizerCanvas:z,Info:D},data:function(){return{visualizerState:"clear",algorithms:[{algorithm:"dijkstra",heuristic:"",displayName:"Dijkstra's Algorithm",type:"weighted",info:{heading:"Dijkstra's Algorithm",text:"The father of pathfinding algorithms, Dijkstra’s algorithm creates a tree of shortest paths from the starting vertex, the source, to all other points in the graph.\n\t\t\t\t\t<br><br>\n\t\t\t\t\tIt is a <b>weighted</b> algorithm and <b>guarantees</b> the shortest path!"}},{algorithm:"astar",heuristic:"poweredManhattanDistance",displayName:"A* Search",type:"weighted",info:{heading:"A* Search Algorithm",text:"A* Search algorithm is one of the best and popular technique used in path-finding and graph traversals. A* algorithm introduces a heuristic into a regular graph-searching algorithm, essentially planning ahead at each step so a more optimal decision is made.\n\t\t\t\t\t<br><br>\n\t\t\t\t\tIt is a <b>weighted</b> algorithm and <b>guarantees</b> the shortest path!"}},{algorithm:"bfs",heuristic:"",displayName:"Breadth-first Search",type:"unweighted",info:{heading:"Breadth-first Search",text:"Breadth-first search is an algorithm for traversing or searching tree or graph data structures. It starts at the tree root, and explores all of the neighbor nodes at the present depth prior to moving on to the nodes at the next depth level.\n\t\t\t\t\t<br><br>\n\t\t\t\t\tIt is an <b>unweighted</b> algorithm and <b>guarantees</b> the shortest path!"}},{algorithm:"dfs",heuristic:"",displayName:"Depth-first Search",type:"unweighted",info:{heading:"Depth-first Search",text:"Depth-first search is an algorithm for traversing or searching tree or graph data structures. The algorithm starts at the root node and explores as far as possible along each branch before backtracking.\n\t\t\t\t\t<br><br>\n\t\t\t\t\tIt is an <b>unweighted</b> algorithm and <b>does not guarantee</b> the shortest path!"}}],swarm:{algorithm:"CLA",heuristic:"manhattanDistance",displayName:"Swarm Algorithm",type:"weighted",info:{heading:"Swarm Algorithm",text:"The Swarm Algorithm, presumably developed by Clément Mihailescu and Hussein Farah, is essentially a mixture of Dijkstra's Algorithm and A* Search. More precisely, while it converges to the target node like A*, it still explores quite a few neighboring nodes surrounding the start node like Dijkstra's.\n\t\t\t\t<br><br>\n\t\t\t\tIt is a <b>weighted</b> algorithm and <b>does not guarantee</b> the shortest path!"}},selectedAlgorithm:null,speeds:[{text:"Fast",value:15},{text:"Medium",value:25},{text:"Slow",value:45},{text:"Super Slow",value:80}],selectedSpeed:null,mazeAlgorithms:["Random Maze","Recursive Division"],dropdownOpen:!1,nodeDimensions:{height:8,width:8},rows:30,cols:30,grid:[],ground:null,controlType:"Orbit",start:{row:3,col:5},finish:{row:16,col:22},worldSetup:!1,deviceCamInput:!1,streaming:!1,thresholdValue:100,colors:{default:{r:1,g:1,b:1},start:{r:0,g:1,b:0},finish:{r:1,g:0,b:0},wall:{r:.109,g:.109,b:.45},visited:{r:.329,g:.27,b:.968},path:{r:1,g:1,b:0}},infoStatus:"",infoObject:{heading:"",text:""}}},watch:{selectedAlgorithm:function(t,e){"unweighted"==t.type&&this.clearWalls(),this.dropdownOpen=!1,this.$refs.info.resetToLegends()},worldSetup:function(t,e){t?this.clearPath():this.deviceCamInput=!1},deviceCamInput:function(t,e){var i=this;if(t){function n(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}this.clearWalls();var r=document.querySelector("#video-canvas"),s=(r.getContext("2d"),document.querySelector("video"));this.thresholdValue=100;var o=17,a=512,l=512;if(n()){r.width=a/o,r.height=l/o;var c={video:{width:{exact:a/o},height:{exact:l/o}}};navigator.mediaDevices.getUserMedia(c).then((function(t){s.srcObject=t,i.streaming=!0}))}else alert("getUserMedia() is not supported by your browser")}else{var h=document.querySelector("video"),d=h.srcObject,u=d.getTracks();u.forEach((function(t){t.stop()})),h.srcObject=null,this.streaming=!1}}},created:function(){this.selectedAlgorithm=this.algorithms[0],this.start.gridId=this.start.row*this.cols+this.start.col,this.finish.gridId=this.finish.row*this.cols+this.finish.col,this.selectedSpeed=this.speeds[0]},methods:{onClick:function(t){if("running"!=this.visualizerState)if("unweighted"!=this.selectedAlgorithm.type)if("wall"!=t.status){if("start"==t.status||"finish"==t.status)return;t.status="wall"}else t.status="default";else this.$refs.info.error({heading:"Uh oh",text:"Can't add walls in an unweighted algorithm."})},onMazeDropdownClick:function(){"unweighted"!=this.selectedAlgorithm.type?this.dropdownOpen=!this.dropdownOpen:(this.dropdownOpen=!1,this.$refs.info.error({heading:"Uh oh",text:"Can't add walls in an unweighted algorithm."}))},updateEnds:function(t){t.start?(this.start=t.start,this.start.gridId=t.start.row*this.cols+t.start.col):(this.finish=t.finish,this.finish.gridId=t.finish.row*this.cols+t.finish.col)},unlockSwarm:function(){console.log("Unlocked Swarm"),this.algorithms.push(this.swarm)},clearWalls:function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.cols;e++){var i="default";"wall"==this.grid[t][e].status&&this.$set(this.grid[t][e],"status",i)}},clearPath:function(){p["a"].removeAll();for(var t=0;t<this.rows;t++)for(var e=0;e<this.cols;e++){var i="default";t==this.start.row&&e==this.start.col?i="start":t==this.finish.row&&e==this.finish.col&&(i="finish"),"wall"!=this.grid[t][e].status&&this.$set(this.grid[t][e],"status",i),this.$set(this.grid[t][e],"distance",1/0),this.$set(this.grid[t][e],"totalDistance",1/0),this.$set(this.grid[t][e],"heuristicDistance",null),this.$set(this.grid[t][e],"direction",null),this.$set(this.grid[t][e],"previousNode",null)}this.visualizerState="clear"},switchControl:function(){var t=this;"Orbit"==this.controlType?(this.controlType="PointerLock",setTimeout((function(){t.$refs.info.alert({heading:"Start First-Person",text:"Click anywhere on the canvas to start the First-Person mouse movement. Press Esc to exit."})}),2e3)):(this.controlType="Orbit",this.$refs.info.resetToLegends())},moveCamera:function(){var t=this;this.$refs.visualizer.controls.enabled=!1,new p["a"].Tween(this.$refs.visualizer.camera.position).to({x:-100,y:200,z:100},2e3).easing(p["a"].Easing.Exponential.Out).onUpdate((function(){t.$refs.visualizer.camera.lookAt(t.$refs.visualizer.scene.position)})).onComplete((function(){t.$refs.visualizer.controls.enabled=!0})).start()},visualizeAlgorithm:function(){var t=this,e=this.selectedSpeed.value;this.clearPath(),this.$nextTick((function(){t.visualizerState="running";var i,n=t.grid[t.start.row][t.start.col],r=t.grid[t.finish.row][t.finish.col],s=[];if("weighted"==t.selectedAlgorithm.type?i=P(t.grid,n,r,s,t.selectedAlgorithm.algorithm,t.selectedAlgorithm.heuristic):(t.clearWalls(),i=U(t.grid,n,r,s,t.selectedAlgorithm.algorithm)),console.log("success:",i),0==i)return t.clearPath(),t.visualizerState="finished",void t.$refs.info.error({heading:"Uh oh",text:"Can't find the path when one end is unreachable."});var o=y(r);t.$nextTick((function(){t.animateAlgorithm(s,o,e)}))}))},animateAlgorithm:function(t,e,i){for(var n=this,r=function(r){return r===t.length?(setTimeout((function(){n.animateShortestPath(e,5*i)}),i*r),{v:void 0}):t[r].row==n.start.row&&t[r].col==n.start.col||t[r].row==n.finish.row&&t[r].col==n.finish.col?"continue":void setTimeout((function(){var e=t[r];e&&k(e,n.ground.geometry,[{r:1,g:.321,b:.784},n.colors.visited],300,{position:!1})}),i*r)},s=0;s<=t.length;s++){var o=r(s);if("continue"!==o&&"object"===Object(l["a"])(o))return o.v}},animateShortestPath:function(t,e){for(var i=this,n=this,r=function(r){setTimeout((function(){var e=t[r];k(e,i.ground.geometry,[i.colors.path],void 0,{position:!1}),r==t.length-1&&(n.visualizerState="finished",n.$refs.info.alert(i.selectedAlgorithm.info))}),e*r)},s=0;s<t.length;s++)r(s)},generateMaze:function(t){this.dropdownOpen=!1,this.clearWalls(),this.clearPath();var e=[];"Random Maze"==t?V(this.grid,e,"wall"):W(this.grid,2,this.grid.length-3,2,this.grid[0].length-3,"horizontal",!1,e,"wall"),this.animateMaze(e,"wall",30)},animateMaze:function(t,e,i){for(var n=function(n){setTimeout((function(){var i=t[n];i.status=e}),i*n)},r=0;r<t.length;r++)n(r)},clearFocus:function(){document.getElementsByClassName("header")[0].click()}}},H=R,q=(i("59fa"),Object(S["a"])(H,o,a,!1,null,null,null)),G=q.exports,J={name:"App",components:{PathfindingVisualizer:G}},X=J,K=(i("5c0b"),Object(S["a"])(X,r,s,!1,null,null,null)),Q=K.exports,Z=i("9483");Object(Z["a"])("".concat("/Pathfinding-Visualizer-ThreeJS/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var tt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",t._g(t._b({staticClass:"btn accent",attrs:{disabled:t.disabled}},"button",t.$attrs,!1),t.$listeners),[t._t("default")],2)},et=[],it={name:"AppButton",props:{disabled:{type:Boolean,default:!1}}},nt=it,rt=(i("df12"),Object(S["a"])(nt,tt,et,!1,null,null,null)),st=rt.exports;n["a"].component("Button",st),n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(Q)}}).$mount("#app")},"59fa":function(t,e,i){"use strict";var n=i("02ed"),r=i.n(n);r.a},"5c0b":function(t,e,i){"use strict";var n=i("9c0c"),r=i.n(n);r.a},"6aa7":function(t,e,i){},"76ed":function(t,e,i){t.exports=i.p+"img/info.da297261.svg"},"7ec9":function(t,e,i){t.exports=i.p+"img/building2.ee52f081.png"},"9c0c":function(t,e,i){},a1c9:function(t,e,i){var n={"./building1.png":"dc30","./building2.png":"7ec9","./building3.png":"0e70","./ground-pebbles.png":"f885","./ground.png":"513b"};function r(t){var e=s(t);return i(e)}function s(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}r.keys=function(){return Object.keys(n)},r.resolve=s,t.exports=r,r.id="a1c9"},ad9f:function(t,e,i){t.exports=i.p+"img/reset-camera.08bbcff6.svg"},bc84:function(t,e,i){t.exports=i.p+"img/maze.c34f0813.svg"},c822:function(t,e,i){"use strict";var n=i("6aa7"),r=i.n(n);r.a},c8d3:function(t,e,i){},dc30:function(t,e,i){t.exports=i.p+"img/building1.d4798374.png"},df12:function(t,e,i){"use strict";var n=i("c8d3"),r=i.n(n);r.a},f885:function(t,e,i){t.exports=i.p+"img/ground-pebbles.be570c43.png"}});
//# sourceMappingURL=app.09830b52.js.map